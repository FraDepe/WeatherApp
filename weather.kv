#:kivy 2.2.1

PageManager:
    MainPage:
    ForecastPage:
    ForecastPageBlind:


<MainPage>:
    id: main_page
    name: 'main' 
    MDFloatLayout:
        Button:
            text: ""
            background_color: 0, 0, 0, 0
            on_press: root.listenToSearch()
        BoxLayout:
            orientation: 'vertical'
            size: root.size
            spacing: 10
            padding: 10
            canvas.before:
                Color:
                    rgba: (59/255, 124/255, 222/255, 1)
                Rectangle:
                    pos: self.pos
                    size: self.size
            Image:
                source: 'media/world.png'
                size_hint: (1, 0.5)
            ImageButton:
                id: microphone
                source: 'media/mic2.png'
                on_press: root.listenToSearch()


<ForecastPage>:
    name: 'forecast'
    MDFloatLayout:
        Button:
            text:""
            background_color: 0,0,0,0
            size_hint: 0.5, 1
            pos_hint: {'x':0.5}
            on_press: root.getWeek()
        Button:
            text:""
            background_color: 0,0,0,0
            size_hint: 0.5, 1
            on_press: root.new_request()
        MDBoxLayout:
            orientation: 'vertical'
            md_bg_color: 59/255, 124/255, 222/255, 1
            MDTopAppBar:
                id: topappbar
                elevation: 5
                left_action_items: [ ["arrow-left", lambda x: root.goBack()] ]
            Image:
                id: today_icon
                source: "media/default.png"
                size_hint: (0.8, 0.63)
                pos_hint: {'center_x': 0.5}
            MDBoxLayout:
                orientation: 'vertical'
                padding: 10
                canvas.before:
                    Color:
                        rgba: (59/255, 124/255, 222/255, 1)
                    Rectangle:
                        pos: self.pos
                        size: self.size
                ScrollView:
                    GridLayout:
                        id: forecast_container
                        cols: 1
                        size_hint_y: None
                        height: self.minimum_height


<ForecastPageBlind>:
    name: 'forecastblind'
    MDFloatLayout:
        id: forecastblind_container
        md_bg_color: 59/255, 124/255, 222/255, 1
        Button:
            text:""
            background_color: 1,0,0,0
            size_hint: 1, 0.5
            pos_hint: {'y':0.5}
            on_press: root.new_request()  
        Button:
            text:""
            background_color: 0,1,0,0
            size_hint: 1, 0.5
            on_press: root.next() 
        MDBoxLayout:
            orientation: 'vertical'
            MDTopAppBar:
                id: topappbar_blind
                elevation: 5
                left_action_items: [ ["arrow-left", lambda x: root.goBack()] ]
            Image:
                id: today_icon_blind
                source: "media/default.png"
                size_hint: (0.8, 0.63)
                pos_hint: {'center_x': 0.5}


<HourlyForecast>:
    size_hint: 1, None
    adaptive_height: True
    cols: 2
    MDBoxLayout:
        orientation: 'horizontal'
        Image:
            source: 'media/temp.png'
            size_hint_y: None
            size_hint_x: 0.65
            width: self.parent.width*0.9
            height: self.parent.height*0.9
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        MDLabel:
            id: temp  
            font_size: '13sp'
        
    MDBoxLayout:
        orientation: 'horizontal'
        Image:
            source: 'media/humidity.png'
            size_hint_y: None
            size_hint_x: 0.65
            width: self.parent.width*0.9
            height: self.parent.height*0.9
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        MDLabel:
            id: humid
            font_size: '13sp'
    
    MDBoxLayout:
        orientation: 'horizontal'
        Image:
            source: 'media/pressure.png'
            size_hint_y: None
            size_hint_x: 0.65
            width: self.parent.width*0.9
            height: self.parent.height*0.9
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        MDLabel:
            id: press
            font_size: '13sp'
        
    MDBoxLayout:
        orientation: 'horizontal'
        Image:
            source: 'media/wind.png'
            size_hint_y: None
            size_hint_x: 0.65
            width: self.parent.width*0.9
            height: self.parent.height*0.9
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        MDLabel:
            id: wind
            font_size: '13sp'
