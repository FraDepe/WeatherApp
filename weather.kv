#:kivy 2.2.1

PageManager:
    MainPage:
    ForecastPage:



<MainPage>:
    id: main_page
    name: 'main' 

    BoxLayout:
        orientation: 'vertical'
        size: root.size
        spacing: 10
        padding: 10
        canvas.before:
            Color:
                rgba: (1, 209/255,102/255,1)
            Rectangle:
                pos: self.pos
                size: self.size
        Image:
            source: 'media/world.png'
            size_hint: (1, 0.6)
        Button:
            id: microphone
            background_normal: 'media/mic2.png'
            background_down: 'media/mic_pressed.png'
            on_press: root.listenToSearch(); root.manager.screens[1].sentence = root.manager.screens[0].sentence
            


<ForecastPage>:
    name: 'forecast'
    MDFloatLayout:
        Button:
            text:""
            background_color: 0,0,0,0
            #on_touch_down: root.responseToAudio()  RICORDA DI STA CAFONATA
        MDBoxLayout:
            orientation: 'vertical'
            md_bg_color: 119/255, 239/255, 199/255, 1
            MDTopAppBar:
                title: '5 Days Forecast'
                elevation: 3
                left_action_items: [ ["arrow-left", lambda x: root.goBack()] ]
            Image:
                id: today_icon
                source: "media/default.png"
                size_hint: (0.8, 0.55)
                pos_hint: {'center_x': 0.5}
            MDBoxLayout:
                orientation: 'vertical'
                padding: 20
                canvas.before:
                    Color:
                        rgba: (119/255, 239/255, 199/255, 1)
                    Rectangle:
                        pos: self.pos
                        size: self.size
                ScrollView:
                    GridLayout:
                        id: forecast_container
                        cols: 1
                        size_hint_y: None
                        height: self.minimum_height

        
        

<HourlyForecast>:
    size_hint: 1, None
    adaptive_height: True
    cols: 2
    MDBoxLayout:
        orientation: 'horizontal'
        Image:
            source: 'media/alternative/temp.png'
            size_hint_y: None
            size_hint_x: 0.6
            width: self.parent.width*0.5
            height: self.parent.height*0.5
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        MDLabel:
            id: temp  
        
    MDBoxLayout:
        orientation: 'horizontal'
        Image:
            source: 'media/alternative/humidity.png'
            size_hint_y: None
            size_hint_x: 0.6
            width: self.parent.width*0.5
            height: self.parent.height*0.5
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        MDLabel:
            id: humid
    
    MDBoxLayout:
        orientation: 'horizontal'
        Image:
            source: 'media/alternative/pressure.png'
            size_hint_y: None
            size_hint_x: 0.6
            width: self.parent.width*0.5
            height: self.parent.height*0.5
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        MDLabel:
            id: press
        
    MDBoxLayout:
        orientation: 'horizontal'
        Image:
            source: 'media/alternative/wind.png'
            size_hint_y: None
            size_hint_x: 0.6
            width: self.parent.width*0.5
            height: self.parent.height*0.5
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        MDLabel:
            id: wind




<RoundedButton@Button>:
    background_color: (0,0,0,0)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (234/255, 123/255, 65/255, 1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [35]